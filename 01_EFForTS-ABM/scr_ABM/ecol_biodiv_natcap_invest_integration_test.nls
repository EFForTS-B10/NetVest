to test-integration
  print["testing integration"]
  ;; initialize landscape (defined in initialization.nls)
  setup-with-external-maps
  ;; definition of experiment name and working directory
  let experiment inv-test
	print (word "experiment:"experiment)
  ;; clear all
   ca 
	 set workdir word "/home/dockerj/EFForTS-ABM/01_EFForTS-ABM/tests_integration/02_integrationtest/" experiment
  print ( word "workdir:" workdir)
  let half-saturation-constant k
	 ;; setup python, load invest package (defined in ecol_biodiv_natcap_invest.nls)
	 natcap_invest_set_up_invest 
	 ;; load sensitivity table and impact table and store as csv-table (defined in ecol_biodiv_natcap_invest.nls)
	 natcap_invest_write_tables  
   ;; lulc.asc, oilpalm_c.asc and rubber_c.asc considered input for testing
   ;; Create new variable for lulc-classification used by natcap InVEST (defined in ecol_biodiv_natcap_invest.nls)
   natcap_invest_translate_lulc
   ;; Generation of LULC-raster-map and impact-maps (as much as impacts we have, defined in ecol_biodiv_natcap_invest.nls)
   natcap_invest_write_lulc_map 
  ;natcap_invest_write_impact_map "oilpalm" 
  ;natcap_invest_write_impact_map "rubber"  
   ;; convert asc files from output folder to tif files
   ;natcap_invest_convert_maps_tif 
   ;; execution of Invest with working directory of InVEST
   ;let invest_wd word workdir "/output"
  ;print (word "invest_wd:" invest_wd)
   ;natcap_invest_execute_invest invest_wd experiment half-saturation-constant ;expects working_directory, 'sensitivity_table.csv' 'impact_table.csv' 'lulc.tif'
   ;natcap_invest_convert_maps_asc experiment ;workdir 
   ;natcap_invest_save_habitatquality_to_patch experiment
   ;natcap_invest_aggregate_habitatquality 
   
  print ["Success"]
  print ["Success"]
                                                      
end

to do-nothing-integration ;because nlrx demands to run an additional function
end